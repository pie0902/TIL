# 프로세스
## 1.프로세스의 정의
* PCB를 가진 프로그램
* 주기억장치에 저장된 프로그램
* 프로세서가 할당되는 실체
* 프로시저가 활동중인 것
* 비동기적 행위를 일으키는 주체
* 지정된 결과를 얻기 위한 일련의 계통적 동작
* 목적 또는 결과에 따라 발생되는 사건들의 과정
>PCB = Process Control Block의 약자<br>
>실행되는 프로그램(프로세스)이 PCB를 통해 운영체제에 의해 관리되고 있다는 것을 의미<br>
### PCB에 포함되는 정보
1. 프로세스 식별자(PID): 프로세스를 고유하게 식별하는 번호
2. 프로세스 상태: 프로세스가 현재 실행 중인지, 대기 중인지, 블록 되었는지 등의 상태 정보
3. 프로그램 카운터(PC): 프로세스가 다음에 실행할 명령어의 주소를 가리킴
4. CPU 레지스터: 프로세스의 현재 실행 상태를 저장하는 레지스터 값들
5. 메모리 관리 정보: 프로세스에 할당된 메모리 영역에 대한 정보
6. 입출력 상태 정보: 프로세스가 사용하는 입출력 장치의 상태 정보
7. 계정 정보: 프로세스의 소유자, 우선순위 등의 정보
## 2.프로세스 상태 전이
* 제출(Submit): 사용자가 작업을 시스템에 제출한 상태
* 접수(Hold): 제출된 작업이 디스크의 할당 위치에 저장된 상태
* 준비(Ready): 프로세서를 할당받기 위해 기다리고 있는 상태
* 실행(Run): 프로세서를 할당받아 실행되는 상태
* 대기(Wait), 보류, 블록(Block) : 입/출력 처리가 완료될 때 까지 대기하는 상태
* 종료(Terminated, Exit): 실행이 끝나고 프로세스 할당이 해제된 상태
##  스케줄링 - FCFS(FIFO)
 | 스케줄링 - FCFS(FIFO) ||||
 |-----------------------|-|-|-|
 | 프로세스 번호         | P1 | P2 | P3 |
 | 실행 시간             | 20 | 4 | 6 |

| 단위시간 | 0    | 10   | 20   | 30   |
|----------|------|------|------|------|
| P1       | CPU  |      |      |      |
| P2       |      |      | CPU  |      |
| P3       |      |      |      | CPU  |

- 평균 대기 시간: (0+20+24)÷3 = 14.67
- 평균 반환 시간: (20+24+30)÷3 = 24.67
- 평균 응답 시간: (0+20+24)÷3 = 14.67
## 스케줄링 - SJF
| 스케줄링 - SJF |                |
|---------------|----------------|
| 프로세스 번호 | P1   | P2   | P3   |
| 실행 시간     | 20   | 1    | 4    |

| 단위시간 | 0    | 10   | 20   | 30   |
|----------|------|------|------|------|
| P1       |      |      | CPU  |      |
| P2       | CPU  |      |      |      |
| P3       |      | CPU  |      |      |

- 평균 대기 시간: (0+0+1)÷3 = 0.33
- 평균 반환 시간: (20+1+5)÷3 = 8.67
- 평균 응답 시간: (0+0+1)÷3 = 0.33
## 스케줄링 RR(Round Robin)
* 시분할 시스템을 위해 고안된 방식
* FCFS 알고리즘을 선점 형태로 변형한 기법
* 할당되는 시간이 클 경우 FCFS 기법과 같아짐

## 3.프로세스의 지역성 개념
* 지역성은 프로세스가 실행되는 동안 주기억장치를 참조할 때 일부 페이지만 집중적으로 참조하는 특성이다.
* 프로세스가 집중적으로 사용하는 페이지를 알아내는 방법의 하나로, 가상기억장치 관리의 이론적인 근거가 되어ㅓㅆ다.
* 스레싱을 방지하기 위한 워킹셋 이론의 기반이 되었다. 

### 프로세스 지역성의 유형
* 지역성의 유형에는 시간 지역성, 공간 지역성, 순차 지역성이 있다. 

| 유형 | 설명                                                                             | 사례 |
|--|--------------------------------------------------------------------------------|--|
|시간 지역성| 최근 사용되었던 기억장소들이 집중적으로 엑세스 하는 현상<br>참조했던 메모리는 빠른 시간에 다시 참조될 확률이 높은 특성           | Loop,Stack,Sub Routine,Conting,집계에 사용되는 변수|
|공간 지역성| 프로세스 실행 시 일정 위치의 페이지를 집중적으로 엑세스하는 현상<br> 참조된 메모리 근처의 메모리를 참조하는 특성              | 배열 순회, 프로그래머들이 관련된 변수들을 서로 근처에 선언하여 할당되는 기억장소. 같은 영역에 있는 변수 참조|
|순차 지역성| 데이터가 순차적으로 엑세스 되는 현상<br> 프로그램 내의 명령어가 순차적으로 구성된 특성<br>공간 지역성에 편입되어 설명되기도 함     | 순차적 코드 실행|

## 4.프로세스 관리 - 교착상태
>교착상태는 다중프로세싱 환경에서 2개 이상의 프로세스가 특정 자원할당을 무한정 대기하는 상태이다.

### 교착상태 발생 조건
1. 상호배제 : 프로세스가 자원을 배타적으로 점유하여 다른 프로세스가 그 자원을 사용할 수 없는 상태
2. 점유와 대기 : 한 프로세스가 자원을 점유하고 있으면서 또 다른 자원을 요청하여 대기하고 있는 상태
3. 비선점 : 한 프로세스가 점유한 자원에 대해 다른 프로세스가 선점할 수 없고, 오직 점유한 프로세스만이 해제 가능한 상태
4. 환형 대기 : 2개 이상의 프로세스 간 자원의 점유와 대기가 하나의 원형을 구성한 상태

### 교착상태 해결방법
> 교착상태 해결방법에는 예방,회피,발견,복구가 있다.
1. 예방 : 상호배제를 제외한 나머지 교착상태 발생 조건을 위배하는 방안
2. 회피 : 교착상태의 발생 가능성을 배제하지 않고 이를 적절하게 피해 나가는 방법
3. 발견 : 시스템의 상태를 감시 알고리즘 통해 교착상태 검사
4. 복구 : 교착상태가 없어질 때까지 프로세스를 순차적으로 kill하여 제거, 희생자 선택해야 하고 기아 상태 발생

### 상호배제
1. 세마포어 : 멀티 프로그래밍 환경에서 공유 자원에 대한 접근을 제한
2. 데커 알고리즘 : 2개의 프로세스를 위한 최초의 소프트웨어적으로 상호배제를 해결한 기법
3. 피터슨 알고리즘 : 공유 메모리를 활용하여 여러개의 프로세스가 하나의 자원을 함께 사용할 때 문제가 발생하지 않도록 하는 기법
4. 램포트 알고리즘 : 수행 순서를 위한 번호표 부여, 낮은 번호의 프로세스가 먼저 임계영역에 진입 가능하도록 설계된 기법 분산처리 환경에서 유용한 상호배제 기법
